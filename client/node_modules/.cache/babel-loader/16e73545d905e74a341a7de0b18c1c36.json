{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\shinj\\\\Desktop\\\\oasis clothing\\\\client\\\\src\\\\component\\\\stripe-button\\\\StripeButton.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport { clearCart } from \"../../redux/cart/cart.actions\";\nimport axios from \"axios\";\n\nconst StripeButton = props => {\n  _s();\n\n  const priceForStripe = props.price * 100;\n  const PublishableKey = \"pk_test_51HxTfhFmqfwYKSv9hlabBXnGIJK6SRgS5NXt5ahnekuxJngKCks3SLAtJNg032pKZ13qTqLR4suw1DEjJV59yGCV00kYOhWWjY\";\n  const dispatch = useDispatch();\n\n  const onToken = token => {\n    axios({\n      url: \"payment\",\n      method: \"post\",\n      data: {\n        amount: priceForStripe,\n        token\n      }\n    }).then(res => {\n      alert(\"payment successfull\");\n    }).catch(error => {\n      console.log(\"payment errorr : \", JSON.parse(error));\n      alert(\"there was an issue with your payment. please sure you sure you use the provided credit card\");\n    });\n    dispatch(clearCart());\n  };\n\n  return /*#__PURE__*/_jsxDEV(StripeCheckout, {\n    name: \"OASIS clothing Ltd.\",\n    label: \"CHECK OUT\",\n    billingAddress: true,\n    shippingAddress: true,\n    image: \"https://i.ibb.co/sFYmw2q/oasis-logo.png\",\n    description: `your total is $${props.price}`,\n    amount: priceForStripe,\n    token: onToken,\n    stripeKey: PublishableKey,\n    panelLabel: \"pay now\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 12\n  }, this);\n};\n\n_s(StripeButton, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n\n_c = StripeButton;\nexport default StripeButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"StripeButton\");","map":{"version":3,"sources":["C:/Users/shinj/Desktop/oasis clothing/client/src/component/stripe-button/StripeButton.jsx"],"names":["React","useDispatch","StripeCheckout","clearCart","axios","StripeButton","props","priceForStripe","price","PublishableKey","dispatch","onToken","token","url","method","data","amount","then","res","alert","catch","error","console","log","JSON","parse"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,SAASC,SAAT,QAA0B,+BAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,YAAY,GAAIC,KAAD,IAAW;AAAA;;AAC5B,QAAMC,cAAc,GAAGD,KAAK,CAACE,KAAN,GAAc,GAArC;AACA,QAAMC,cAAc,GAAG,6GAAvB;AACA,QAAMC,QAAQ,GAAGT,WAAW,EAA5B;;AAEA,QAAMU,OAAO,GAAGC,KAAK,IAAI;AACrBR,IAAAA,KAAK,CAAC;AACFS,MAAAA,GAAG,EAAE,SADH;AAEFC,MAAAA,MAAM,EAAE,MAFN;AAGFC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAET,cADN;AAEFK,QAAAA;AAFE;AAHJ,KAAD,CAAL,CAOGK,IAPH,CAOQC,GAAG,IAAI;AACXC,MAAAA,KAAK,CAAC,qBAAD,CAAL;AACH,KATD,EASGC,KATH,CASSC,KAAK,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCC,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAAjC;AACAF,MAAAA,KAAK,CACD,6FADC,CAAL;AAGH,KAdD;AAeAT,IAAAA,QAAQ,CAACP,SAAS,EAAV,CAAR;AACH,GAjBD;;AAmBA,sBAAO,QAAC,cAAD;AACH,IAAA,IAAI,EAAC,qBADF;AAEH,IAAA,KAAK,EAAC,WAFH;AAGH,IAAA,cAAc,MAHX;AAIH,IAAA,eAAe,MAJZ;AAKH,IAAA,KAAK,EAAC,yCALH;AAMH,IAAA,WAAW,EAAG,kBAAiBG,KAAK,CAACE,KAAM,EANxC;AAOH,IAAA,MAAM,EAAED,cAPL;AAQH,IAAA,KAAK,EAAEI,OARJ;AASH,IAAA,SAAS,EAAEF,cATR;AAUH,IAAA,UAAU,EAAC;AAVR;AAAA;AAAA;AAAA;AAAA,UAAP;AAYH,CApCD;;GAAMJ,Y;UAGeJ,W;;;KAHfI,Y;AAqCN,eAAeA,YAAf","sourcesContent":["import React from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport StripeCheckout from \"react-stripe-checkout\"\r\nimport { clearCart } from \"../../redux/cart/cart.actions\"\r\nimport axios from \"axios\"\r\n\r\nconst StripeButton = (props) => {\r\n    const priceForStripe = props.price * 100;\r\n    const PublishableKey = \"pk_test_51HxTfhFmqfwYKSv9hlabBXnGIJK6SRgS5NXt5ahnekuxJngKCks3SLAtJNg032pKZ13qTqLR4suw1DEjJV59yGCV00kYOhWWjY\"\r\n    const dispatch = useDispatch()\r\n\r\n    const onToken = token => {\r\n        axios({\r\n            url: \"payment\",\r\n            method: \"post\",\r\n            data: {\r\n                amount: priceForStripe,\r\n                token\r\n            }\r\n        }).then(res => {\r\n            alert(\"payment successfull\")\r\n        }).catch(error => {\r\n            console.log(\"payment errorr : \", JSON.parse(error))\r\n            alert(\r\n                \"there was an issue with your payment. please sure you sure you use the provided credit card\"\r\n            );\r\n        })\r\n        dispatch(clearCart())\r\n    }\r\n\r\n    return <StripeCheckout\r\n        name=\"OASIS clothing Ltd.\"\r\n        label=\"CHECK OUT\"\r\n        billingAddress\r\n        shippingAddress\r\n        image=\"https://i.ibb.co/sFYmw2q/oasis-logo.png\"\r\n        description={`your total is $${props.price}`}\r\n        amount={priceForStripe}\r\n        token={onToken}\r\n        stripeKey={PublishableKey}\r\n        panelLabel=\"pay now\"\r\n    />\r\n}\r\nexport default StripeButton"]},"metadata":{},"sourceType":"module"}