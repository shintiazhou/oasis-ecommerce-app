{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\shinj\\\\Desktop\\\\oasis clothing\\\\client\\\\src\\\\component\\\\stripe-button\\\\StripeButton.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport { clearCart } from \"../../redux/cart/cart.actions\";\nimport axios from \"axios\";\n\nconst StripeButton = props => {\n  _s();\n\n  const priceForStripe = props.price * 100;\n  const PublishableKey = \"pk_test_51HxTfhFmqfwYKSv9hlabBXnGIJK6SRgS5NXt5ahnekuxJngKCks3SLAtJNg032pKZ13qTqLR4suw1DEjJV59yGCV00kYOhWWjY\";\n  const dispatch = useDispatch();\n\n  const onToken = token => {\n    axios({\n      url: 'payment',\n      method: 'post',\n      data: {\n        amount: priceForStripe,\n        token: token\n      }\n    }).then(response => {\n      alert('succesful payment');\n      dispatch(clearCart());\n    }).catch(error => {\n      console.log('Payment Error: ', error);\n      alert('There was an issue with your payment! Please make sure you use the provided credit card.');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(StripeCheckout, {\n    name: \"OASIS clothing Ltd.\",\n    label: \"CHECK OUT\",\n    billingAddress: true,\n    shippingAddress: true,\n    image: \"https://i.ibb.co/sFYmw2q/oasis-logo.png\",\n    description: `your total is $${props.price}`,\n    amount: priceForStripe,\n    token: onToken,\n    stripeKey: PublishableKey,\n    panelLabel: \"pay now\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 12\n  }, this);\n};\n\n_s(StripeButton, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n\n_c = StripeButton;\nexport default StripeButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"StripeButton\");","map":{"version":3,"sources":["C:/Users/shinj/Desktop/oasis clothing/client/src/component/stripe-button/StripeButton.jsx"],"names":["React","useDispatch","StripeCheckout","clearCart","axios","StripeButton","props","priceForStripe","price","PublishableKey","dispatch","onToken","token","url","method","data","amount","then","response","alert","catch","error","console","log"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,SAASC,SAAT,QAA0B,+BAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,YAAY,GAAIC,KAAD,IAAW;AAAA;;AAC5B,QAAMC,cAAc,GAAGD,KAAK,CAACE,KAAN,GAAc,GAArC;AACA,QAAMC,cAAc,GAAG,6GAAvB;AACA,QAAMC,QAAQ,GAAGT,WAAW,EAA5B;;AAEA,QAAMU,OAAO,GAAGC,KAAK,IAAI;AACrBR,IAAAA,KAAK,CAAC;AACFS,MAAAA,GAAG,EAAE,SADH;AAEFC,MAAAA,MAAM,EAAE,MAFN;AAGFC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAET,cADN;AAEFK,QAAAA,KAAK,EAAEA;AAFL;AAHJ,KAAD,CAAL,CAQKK,IARL,CAQUC,QAAQ,IAAI;AACdC,MAAAA,KAAK,CAAC,mBAAD,CAAL;AACAT,MAAAA,QAAQ,CAACP,SAAS,EAAV,CAAR;AACH,KAXL,EAYKiB,KAZL,CAYWC,KAAK,IAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,KAA/B;AACAF,MAAAA,KAAK,CACD,0FADC,CAAL;AAGH,KAjBL;AAmBH,GApBD;;AAsBA,sBAAO,QAAC,cAAD;AACH,IAAA,IAAI,EAAC,qBADF;AAEH,IAAA,KAAK,EAAC,WAFH;AAGH,IAAA,cAAc,MAHX;AAIH,IAAA,eAAe,MAJZ;AAKH,IAAA,KAAK,EAAC,yCALH;AAMH,IAAA,WAAW,EAAG,kBAAiBb,KAAK,CAACE,KAAM,EANxC;AAOH,IAAA,MAAM,EAAED,cAPL;AAQH,IAAA,KAAK,EAAEI,OARJ;AASH,IAAA,SAAS,EAAEF,cATR;AAUH,IAAA,UAAU,EAAC;AAVR;AAAA;AAAA;AAAA;AAAA,UAAP;AAYH,CAvCD;;GAAMJ,Y;UAGeJ,W;;;KAHfI,Y;AAwCN,eAAeA,YAAf","sourcesContent":["import React from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport StripeCheckout from \"react-stripe-checkout\"\r\nimport { clearCart } from \"../../redux/cart/cart.actions\"\r\nimport axios from \"axios\"\r\n\r\nconst StripeButton = (props) => {\r\n    const priceForStripe = props.price * 100;\r\n    const PublishableKey = \"pk_test_51HxTfhFmqfwYKSv9hlabBXnGIJK6SRgS5NXt5ahnekuxJngKCks3SLAtJNg032pKZ13qTqLR4suw1DEjJV59yGCV00kYOhWWjY\"\r\n    const dispatch = useDispatch()\r\n\r\n    const onToken = token => {\r\n        axios({\r\n            url: 'payment',\r\n            method: 'post',\r\n            data: {\r\n                amount: priceForStripe,\r\n                token: token\r\n            }\r\n        })\r\n            .then(response => {\r\n                alert('succesful payment');\r\n                dispatch(clearCart())\r\n            })\r\n            .catch(error => {\r\n                console.log('Payment Error: ', error);\r\n                alert(\r\n                    'There was an issue with your payment! Please make sure you use the provided credit card.'\r\n                );\r\n            });\r\n\r\n    }\r\n\r\n    return <StripeCheckout\r\n        name=\"OASIS clothing Ltd.\"\r\n        label=\"CHECK OUT\"\r\n        billingAddress\r\n        shippingAddress\r\n        image=\"https://i.ibb.co/sFYmw2q/oasis-logo.png\"\r\n        description={`your total is $${props.price}`}\r\n        amount={priceForStripe}\r\n        token={onToken}\r\n        stripeKey={PublishableKey}\r\n        panelLabel=\"pay now\"\r\n    />\r\n}\r\nexport default StripeButton"]},"metadata":{},"sourceType":"module"}